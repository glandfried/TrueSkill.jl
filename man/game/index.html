<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>The Game class · TrueSkillThroughTime.jl</title><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.jpeg" alt="TrueSkillThroughTime.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">TrueSkillThroughTime.jl</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">TrueSkillThroughTime.jl</a></li><li><span class="tocitem">Sections</span><ul><li><a class="tocitem" href="../causal/">Causal model</a></li><li><a class="tocitem" href="../gaussian/">The <code>Gaussian</code> class</a></li><li><a class="tocitem" href="../player/">The <code>Player</code> class</a></li><li class="is-active"><a class="tocitem" href>The <code>Game</code> class</a><ul class="internal"><li><a class="tocitem" href="#Evidence-and-likelihood"><span>Evidence and likelihood</span></a></li><li><a class="tocitem" href="#Posterior"><span>Posterior</span></a></li><li><a class="tocitem" href="#Team-performance"><span>Team performance</span></a></li><li><a class="tocitem" href="#Full-example"><span>Full example</span></a></li></ul></li><li><a class="tocitem" href="../history/">The <code>History</code> class</a></li><li><a class="tocitem" href="../examples/">Real examples</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Sections</a></li><li class="is-active"><a href>The <code>Game</code> class</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>The <code>Game</code> class</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/glandfried/TrueSkillThroughTime.jl/blob/master/docs/src/man/game.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="The-Game-class"><a class="docs-heading-anchor" href="#The-Game-class">The <code>Game</code> class</a><a id="The-Game-class-1"></a><a class="docs-heading-anchor-permalink" href="#The-Game-class" title="Permalink"></a></h1><p>We use the <code>Game</code> class to model events and perform inference.</p><ul><li><a href="#The-Game-class">The <code>Game</code> class</a></li><ul><li><a href="#Evidence-and-likelihood">Evidence and likelihood</a></li><li><a href="#Posterior">Posterior</a></li><li><a href="#Team-performance">Team performance</a></li><li><a href="#Full-example">Full example</a></li></ul></ul><article class="docstring"><header><a class="docstring-binding" id="TrueSkillThroughTime.Game" href="#TrueSkillThroughTime.Game"><code>TrueSkillThroughTime.Game</code></a> — <span class="docstring-category">Type</span></header><section><div><p>The <code>Game</code> class</p><pre><code class="nohighlight hljs">Game(teams::Vector{Vector{Player}}, result::Vector{Float64}, p_draw::Float64, weights::Vector{Vector{Float64}})</code></pre><p>Properties:</p><ul><li><code>teams::Vector{Vector{Player}}</code></li><li><code>result::Vector{Float64}</code></li><li><code>p_draw::Float64</code></li><li><code>weights::Vector{Vector{Float64}}</code></li><li><code>likelihoods::Vector{Vector{Gaussian}}</code></li><li><code>evidence::Float64</code></li></ul></div></section></article><p>Let us return to the example seen on the first page of this manual.</p><pre><code class="language-julia hljs">a1 = ttt.Player(); a2 = ttt.Player(); a3 = ttt.Player(); a4 = ttt.Player()
team_a = [ a1, a2 ]
team_b = [ a3, a4 ]
g = ttt.Game([team_a, team_b])
g.teams</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">2-element Array{Array{Player,1},1}:
 [Player(Gaussian(mu=0.0, sigma=6.0), beta=1.0, gamma=0.03), Player(Gaussian(mu=0.0, sigma=6.0), beta=1.0, gamma=0.03)]
 [Player(Gaussian(mu=0.0, sigma=6.0), beta=1.0, gamma=0.03), Player(Gaussian(mu=0.0, sigma=6.0), beta=1.0, gamma=0.03)]</code></pre><p>where the teams&#39; order in the list implicitly defines the game&#39;s result: the teams appearing first in the list (lower index) beat those appearing later (higher index). </p><h2 id="Evidence-and-likelihood"><a class="docs-heading-anchor" href="#Evidence-and-likelihood">Evidence and likelihood</a><a id="Evidence-and-likelihood-1"></a><a class="docs-heading-anchor-permalink" href="#Evidence-and-likelihood" title="Permalink"></a></h2><p>During the initialization, the <code>Game</code> class computes the prior prediction of the observed result (the <code>evidence</code> property) and the approximate likelihood of each player (the <code>likelihoods</code> property).</p><pre><code class="language-julia hljs">lhs = g.likelihoods
round(g.evidence, digits=3)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">0.5</code></pre><p>In this case, the evidence is <span>$0.5$</span> because both teams had the same prior skill estimates.</p><h2 id="Posterior"><a class="docs-heading-anchor" href="#Posterior">Posterior</a><a id="Posterior-1"></a><a class="docs-heading-anchor-permalink" href="#Posterior" title="Permalink"></a></h2><p>The method <code>posteriors()</code> of class <code>Game</code> to compute the posteriors.</p><article class="docstring"><header><a class="docstring-binding" id="TrueSkillThroughTime.posteriors" href="#TrueSkillThroughTime.posteriors"><code>TrueSkillThroughTime.posteriors</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">posteriors(g::Game)</code></pre></div></section></article><pre><code class="language-julia hljs">pos = ttt.posteriors(g)
pos[1][1]</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Gaussian(mu=2.361085, sigma=5.515911)</code></pre><p>Posteriors can also be found by manually multiplying the likelihoods and priors. </p><pre><code class="language-julia hljs">lhs[1][1] * a1.prior</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Gaussian(mu=2.361085, sigma=5.515911)</code></pre><h2 id="Team-performance"><a class="docs-heading-anchor" href="#Team-performance">Team performance</a><a id="Team-performance-1"></a><a class="docs-heading-anchor-permalink" href="#Team-performance" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="TrueSkillThroughTime.performance-Tuple{Game,Int64}" href="#TrueSkillThroughTime.performance-Tuple{Game,Int64}"><code>TrueSkillThroughTime.performance</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">performance(G::Game,i::Int64)</code></pre></div></section></article><p>We can obtain the expected performance of the first team. </p><pre><code class="language-julia hljs">ttt.performance(g,1)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Gaussian(mu=0.0, sigma=8.602325)</code></pre><h2 id="Full-example"><a class="docs-heading-anchor" href="#Full-example">Full example</a><a id="Full-example-1"></a><a class="docs-heading-anchor-permalink" href="#Full-example" title="Permalink"></a></h2><p>We now analyze a more complex example in which the same four players participate in a multi-team game. The players are organized into three teams of different sizes: two teams with only one player and the other with two players.  The result has a single winning team and a tie between the other two losing teams. Unlike the previous example, we need to use a draw probability greater than zero.</p><pre><code class="language-julia hljs">ta = [a1]
tb = [a2, a3]
tc = [a4]
teams_3 = [ta, tb, tc]
result = [1., 0., 0.]
g = ttt.Game(teams_3, result, p_draw=0.25)
g.result</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">3-element Array{Float64,1}:
 1.0
 0.0
 0.0</code></pre><p>The team with the highest score is the winner, and the teams with the same score are tied. In this way, we can specify any outcome including global draws. The evidence and posteriors can be queried in the same way as before.</p><pre><code class="language-julia hljs">ttt.posteriors(g)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">3-element Array{Array{Gaussian,1},1}:
 [Gaussian(mu=3.863839, sigma=4.723847)]
 [Gaussian(mu=-1.290302, sigma=4.775861), Gaussian(mu=-1.290302, sigma=4.775861)]
 [Gaussian(mu=-2.573537, sigma=4.273613)]</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../player/">« The <code>Player</code> class</a><a class="docs-footer-nextpage" href="../history/">The <code>History</code> class »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.7 on <span class="colophon-date" title="Monday 1 November 2021 08:47">Monday 1 November 2021</span>. Using Julia version 1.5.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
